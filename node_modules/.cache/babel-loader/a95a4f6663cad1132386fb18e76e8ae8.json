{"remainingRequest":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/babel-loader/lib/index.js!/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/eslint-loader/index.js??ref--13-0!/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/store/index.js","dependencies":[{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/store/index.js","mtime":1620025175588},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/cache-loader/dist/cjs.js","mtime":1616517656185},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/babel-loader/lib/index.js","mtime":1616517656185},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/eslint-loader/index.js","mtime":1616517658235}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3Rob21hc2xleWRldC9Eb2N1bWVudHMvQ291cnMvRGV2IEZyb250L1RwRGF0YVZpc3VhbGl6ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBwZW9wbGU6IFtdLAogICAgc2VhcmNoU3RyaW5nOiAnJywKICAgIGZpbHRlckNvbHVtbjogbnVsbCwKICAgIGZpbHRlclZhbHVlOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBmaWx0ZXJlZERhdGE6IGZ1bmN0aW9uIGZpbHRlcmVkRGF0YShzdGF0ZSkgewogICAgICAvL2NvbnNvbGUubG9nKCkKICAgICAgcmV0dXJuIHN0YXRlLnBlb3BsZS5maWx0ZXIoZnVuY3Rpb24gKHBlcnNvbikgewogICAgICAgIHJldHVybiAhc3RhdGUuZmlsdGVyQ29sdW1uIHx8ICFzdGF0ZS5maWx0ZXJWYWx1ZSB8fCBwZXJzb24ucHJlZmVyZW5jZXNbc3RhdGUuZmlsdGVyQ29sdW1uXSA9PT0gc3RhdGUuZmlsdGVyVmFsdWU7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocGVyc29uKSB7CiAgICAgICAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKHBlcnNvbikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzdGF0ZS5zZWFyY2hTdHJpbmcudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRQZW9wbGU6IGZ1bmN0aW9uIHNldFBlb3BsZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUucGVvcGxlID0gdmFsdWU7CiAgICB9LAogICAgc2V0U2VhcmNoU3RyaW5nOiBmdW5jdGlvbiBzZXRTZWFyY2hTdHJpbmcoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnNlYXJjaFN0cmluZyA9IHZhbHVlOwogICAgfSwKICAgIHNldEZpbHRlcjogZnVuY3Rpb24gc2V0RmlsdGVyKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5maWx0ZXJDb2x1bW4gPSB2YWx1ZS5jb2x1bW47CiAgICAgIHN0YXRlLmZpbHRlclZhbHVlID0gdmFsdWUudmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICByZXRyaWV2ZVBlb3BsZTogZnVuY3Rpb24gcmV0cmlldmVQZW9wbGUoc3RvcmUpIHsKICAgICAgZmV0Y2goJ2h0dHBzOi8vcnVuLm1vY2t5LmlvL3YzLzcwZTViMGFkLTcxMTItNDFjNS04NTNlLWIzODJhMzllNjViNycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLmNvbW1pdCgnc2V0UGVvcGxlJywganNvbi5wZW9wbGUpOwogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2hTdHJpbmdVcGRhdGVkOiBmdW5jdGlvbiBzZWFyY2hTdHJpbmdVcGRhdGVkKHN0b3JlLCB2YWx1ZSkgewogICAgICBzdG9yZS5jb21taXQoJ3NldFNlYXJjaFN0cmluZycsIHZhbHVlKTsKICAgIH0sCiAgICBmaWx0ZXJVcGRhdGVkOiBmdW5jdGlvbiBmaWx0ZXJVcGRhdGVkKHN0b3JlLCB2YWx1ZSkgewogICAgICBzdG9yZS5jb21taXQoJ3NldEZpbHRlcicsIHZhbHVlKTsKICAgIH0sCiAgICByZXNldEZpbHRlcjogZnVuY3Rpb24gcmVzZXRGaWx0ZXIoc3RvcmUpIHsKICAgICAgc3RvcmUuY29tbWl0KCdzZXRGaWx0ZXInLCB7CiAgICAgICAgY29sdW1uOiBudWxsLAogICAgICAgIHZhbHVlOiBudWxsCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7CgpmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvYmopIHsKICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopLm1hcChmdW5jdGlvbiAodikgewogICAgcmV0dXJuIF90eXBlb2YodikgPT09ICdvYmplY3QnID8gb2JqZWN0VG9TdHJpbmcodikgOiB2OwogIH0pLmpvaW4oJyAgJyk7Cn0="},{"version":3,"sources":["/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/store/index.js"],"names":["createStore","state","people","searchString","filterColumn","filterValue","getters","filteredData","filter","person","preferences","objectToString","toLowerCase","includes","mutations","setPeople","value","setSearchString","setFilter","column","actions","retrievePeople","store","fetch","then","res","json","commit","searchStringUpdated","filterUpdated","resetFilter","modules","obj","Object","values","map","v","join"],"mappings":";;;;;;;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;AACzBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,YAAY,EAAE,EAFT;AAGLC,IAAAA,YAAY,EAAE,IAHT;AAILC,IAAAA,WAAW,EAAE;AAJR,GADkB;AAOzBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YADO,wBACMN,KADN,EACY;AACjB;AACA,aAAOA,KAAK,CAACC,MAAN,CACJM,MADI,CACG,UAACC,MAAD;AAAA,eAAU,CAACR,KAAK,CAACG,YAAP,IAAuB,CAACH,KAAK,CAACI,WAA9B,IAA6CI,MAAM,CAACC,WAAP,CAAmBT,KAAK,CAACG,YAAzB,MAA2CH,KAAK,CAACI,WAAxG;AAAA,OADH,EAEJG,MAFI,CAEG,UAACC,MAAD;AAAA,eAAUE,cAAc,CAACF,MAAD,CAAd,CAAuBG,WAAvB,GAAqCC,QAArC,CAA8CZ,KAAK,CAACE,YAAN,CAAmBS,WAAnB,EAA9C,CAAV;AAAA,OAFH,CAAP;AAGD;AANM,GAPgB;AAezBE,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCd,KADD,EACQe,KADR,EACc;AACrBf,MAAAA,KAAK,CAACC,MAAN,GAAec,KAAf;AACD,KAHQ;AAITC,IAAAA,eAJS,2BAIOhB,KAJP,EAIce,KAJd,EAIoB;AAC3Bf,MAAAA,KAAK,CAACE,YAAN,GAAqBa,KAArB;AACD,KANQ;AAOTE,IAAAA,SAPS,qBAOCjB,KAPD,EAOQe,KAPR,EAOc;AACrBf,MAAAA,KAAK,CAACG,YAAN,GAAqBY,KAAK,CAACG,MAA3B;AACAlB,MAAAA,KAAK,CAACI,WAAN,GAAoBW,KAAK,CAACA,KAA1B;AACD;AAVQ,GAfc;AA2BzBI,EAAAA,OAAO,EAAE;AACPC,IAAAA,cADO,0BACQC,KADR,EACc;AACnBC,MAAAA,KAAK,CAAC,8DAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG;AAAA,eAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,OADX,EAEGF,IAFH,CAEQ,UAAAE,IAAI;AAAA,eAAEJ,KAAK,CAACK,MAAN,CAAa,WAAb,EAA0BD,IAAI,CAACxB,MAA/B,CAAF;AAAA,OAFZ;AAGD,KALM;AAMP0B,IAAAA,mBANO,+BAMaN,KANb,EAMoBN,KANpB,EAM0B;AAC/BM,MAAAA,KAAK,CAACK,MAAN,CAAa,iBAAb,EAAgCX,KAAhC;AACD,KARM;AASPa,IAAAA,aATO,yBASOP,KATP,EAScN,KATd,EASoB;AACzBM,MAAAA,KAAK,CAACK,MAAN,CAAa,WAAb,EAA0BX,KAA1B;AACD,KAXM;AAYPc,IAAAA,WAZO,uBAYKR,KAZL,EAYW;AAChBA,MAAAA,KAAK,CAACK,MAAN,CAAa,WAAb,EAA0B;AAACR,QAAAA,MAAM,EAAE,IAAT;AAAeH,QAAAA,KAAK,EAAE;AAAtB,OAA1B;AACD;AAdM,GA3BgB;AA2CzBe,EAAAA,OAAO,EAAE;AA3CgB,CAAD,CAA1B;;AA+CA,SAASpB,cAAT,CAAwBqB,GAAxB,EAA6B;AAC3B,SAAOC,MAAM,CAACC,MAAP,CAAcF,GAAd,EACJG,GADI,CACA,UAACC,CAAD;AAAA,WAAK,QAAOA,CAAP,MAAa,QAAb,GAAwBzB,cAAc,CAACyB,CAAD,CAAtC,GAA4CA,CAAjD;AAAA,GADA,EAEJC,IAFI,CAEC,IAFD,CAAP;AAGD","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    people: [],\n    searchString: '',\n    filterColumn: null,\n    filterValue: null,\n  },\n  getters: {\n    filteredData(state){\n      //console.log()\n      return state.people\n        .filter((person)=>!state.filterColumn || !state.filterValue || person.preferences[state.filterColumn] === state.filterValue)\n        .filter((person)=>objectToString(person).toLowerCase().includes(state.searchString.toLowerCase()))\n    }\n  },\n  mutations: {\n    setPeople(state, value){\n      state.people = value;\n    },\n    setSearchString(state, value){\n      state.searchString = value;\n    },\n    setFilter(state, value){\n      state.filterColumn = value.column;\n      state.filterValue = value.value;\n    }\n  },\n  actions: {\n    retrievePeople(store){\n      fetch('https://run.mocky.io/v3/70e5b0ad-7112-41c5-853e-b382a39e65b7')\n        .then(res=>res.json())\n        .then(json=>store.commit('setPeople', json.people))\n    },\n    searchStringUpdated(store, value){\n      store.commit('setSearchString', value)\n    },\n    filterUpdated(store, value){\n      store.commit('setFilter', value)\n    },\n    resetFilter(store){\n      store.commit('setFilter', {column: null, value: null})\n    },\n  },\n  modules: {\n  }\n})\n\nfunction objectToString(obj) {\n  return Object.values(obj)\n    .map((v)=>typeof v === 'object' ? objectToString(v) : v)\n    .join('  ');\n}\n"]}]}