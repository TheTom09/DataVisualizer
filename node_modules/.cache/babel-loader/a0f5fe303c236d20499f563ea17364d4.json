{"remainingRequest":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/babel-loader/lib/index.js!/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/components/Charts.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/components/Charts.vue","mtime":1620056022724},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgUGllQ2hhcnQgZnJvbSAiQC9jb21wb25lbnRzL1BpZUNoYXJ0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGFydHMnLAogIGNvbXBvbmVudHM6IHsKICAgIFBpZUNoYXJ0OiBQaWVDaGFydAogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IEFycmF5CiAgfSwKICBjb21wdXRlZDogewogICAgY291bnRyaWVzOiBmdW5jdGlvbiBjb3VudHJpZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZURhdGFGb3JDb2x1bW4odGhpcy5kYXRhLCAnY29udGFjdC5jb3VudHJ5Jyk7CiAgICB9LAogICAgZ2VuZGVyczogZnVuY3Rpb24gZ2VuZGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlRGF0YUZvckNvbHVtbih0aGlzLmRhdGEsICdnZW5kZXInKTsKICAgIH0sCiAgICBwZXRzOiBmdW5jdGlvbiBwZXRzKCkgewogICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVEYXRhRm9yQ29sdW1uKHRoaXMuZGF0YSwgJ3ByZWZlcmVuY2VzLmZhdm9yaXRlX3BldCcpOwogICAgfSwKICAgIGZydWl0czogZnVuY3Rpb24gZnJ1aXRzKCkgewogICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVEYXRhRm9yQ29sdW1uKHRoaXMuZGF0YSwgJ3ByZWZlcmVuY2VzLmZhdm9yaXRlX2ZydWl0Jyk7CiAgICB9LAogICAgY29sb3JzOiBmdW5jdGlvbiBjb2xvcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZURhdGFGb3JDb2x1bW4odGhpcy5kYXRhLCAncHJlZmVyZW5jZXMuZmF2b3JpdGVfY29sb3InKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFnZ3JlZ2F0ZURhdGFGb3JDb2x1bW46IGZ1bmN0aW9uIGFnZ3JlZ2F0ZURhdGFGb3JDb2x1bW4oZGF0YSwgY29sdW1uKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVzdWx0ID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgb2JqKSB7CiAgICAgICAgdmFyIGtleVZhbHVlID0gX3RoaXMuZmluZFZhbHVlQXRQYXRoKG9iaiwgY29sdW1uKTsKCiAgICAgICAgaWYgKCFhY2Nba2V5VmFsdWVdKSB7CiAgICAgICAgICBhY2Nba2V5VmFsdWVdID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWNjW2tleVZhbHVlXSsrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwge30pOwogICAgICByZXR1cm4gewogICAgICAgIGxhYmVsczogT2JqZWN0LmtleXMocmVzdWx0KSwKICAgICAgICBkYXRhOiBPYmplY3QudmFsdWVzKHJlc3VsdCkKICAgICAgfTsKICAgIH0sCiAgICBmaW5kVmFsdWVBdFBhdGg6IGZ1bmN0aW9uIGZpbmRWYWx1ZUF0UGF0aChvYmosIHBhdGgpIHsKICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJyc7CiAgICAgIHZhciB2YWx1ZSA9IHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCkgewogICAgICAgIHJldHVybiBhY2MgJiYgYWNjW3BhcnRdOwogICAgICB9LCBvYmopOwogICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogZGVmYXVsdFZhbHVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/thomasleydet/Documents/Cours/Dev Front/TpDataVisualizer/src/components/Charts.vue"],"names":[],"mappings":";;;;AAmBA,OAAO,QAAP,MAAqB,uBAArB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,QAAQ,EAAR;AAAD,GAFC;AAGb,EAAA,KAAK,EAAC;AACJ,IAAA,IAAI,EAAE;AADF,GAHO;AAMb,EAAA,QAAQ,EAAC;AACP,IAAA,SADO,uBACI;AACT,aAAO,KAAK,sBAAL,CAA4B,KAAK,IAAjC,EAAuC,iBAAvC,CAAP;AACD,KAHM;AAIP,IAAA,OAJO,qBAIE;AACP,aAAO,KAAK,sBAAL,CAA4B,KAAK,IAAjC,EAAuC,QAAvC,CAAP;AACD,KANM;AAOP,IAAA,IAPO,kBAOD;AACJ,aAAO,KAAK,sBAAL,CAA4B,KAAK,IAAjC,EAAuC,0BAAvC,CAAP;AACD,KATM;AAUP,IAAA,MAVO,oBAUC;AACN,aAAO,KAAK,sBAAL,CAA4B,KAAK,IAAjC,EAAuC,4BAAvC,CAAP;AACD,KAZM;AAaP,IAAA,MAbO,oBAaC;AACN,aAAO,KAAK,sBAAL,CAA4B,KAAK,IAAjC,EAAuC,4BAAvC,CAAP;AACD;AAfM,GANI;AAuBb,EAAA,OAAO,EAAC;AACN,IAAA,sBADM,kCACiB,IADjB,EACuB,MADvB,EAC8B;AAAA;;AAClC,UAAI,MAAK,GAAI,IAAI,CAAC,MAAL,CAAY,UAAC,GAAD,EAAM,GAAN,EAAY;AACnC,YAAI,QAAO,GAAI,KAAI,CAAC,eAAL,CAAqB,GAArB,EAA0B,MAA1B,CAAf;;AACA,YAAG,CAAC,GAAG,CAAC,QAAD,CAAP,EAAkB;AAChB,UAAA,GAAG,CAAC,QAAD,CAAH,GAAgB,CAAhB;AACD,SAFD,MAEK;AACH,UAAA,GAAG,CAAC,QAAD,CAAH;AACF;;AACA,eAAO,GAAP;AACD,OARY,EAQV,EARU,CAAb;AASA,aAAO;AAAE,QAAA,MAAM,EAAC,MAAM,CAAC,IAAP,CAAY,MAAZ,CAAT;AAA8B,QAAA,IAAI,EAAC,MAAM,CAAC,MAAP,CAAc,MAAd;AAAnC,OAAP;AACD,KAZK;AAaN,IAAA,eAbM,2BAaU,GAbV,EAae,IAbf,EAawC;AAAA,UAAnB,YAAmB,uEAAJ,EAAI;AAC5C,UAAM,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,GAAX,EACT,MADS,CACF,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC1B,eAAO,GAAE,IAAK,GAAG,CAAC,IAAD,CAAjB;AACD,OAHS,EAGP,GAHO,CAAd;AAIA,aAAO,KAAI,KAAM,IAAV,IAAkB,KAAI,KAAM,SAA5B,GAAwC,KAAxC,GAAgD,YAAvD;AACD;AAnBK;AAvBK,CAAf","sourcesContent":["<template>\n  <div>\n    je vais afficher des charts\n\n\n    <PieChart title=\"Countries\" :labels=\"countries.labels\"  :data=\"countries.data\" :options=\"{}\" />\n\n    <PieChart title=\"Gender\" :labels=\"genders.labels\"  :data=\"genders.data\" :options=\"{}\" />\n\n    <PieChart title=\"Pets\" :labels=\"pets.labels\"  :data=\"pets.data\" :options=\"{}\" />\n\n    <PieChart title=\"Fruits\" :labels=\"fruits.labels\"  :data=\"fruits.data\" :options=\"{}\" />\n\n    <PieChart title=\"Colors\" :labels=\"colors.labels\"  :data=\"colors.data\" :options=\"{}\" />\n\n  </div>\n</template>\n\n<script>\nimport PieChart from \"@/components/PieChart\";\nexport default {\n  name: 'Charts',\n  components: {PieChart},\n  props:{\n    data: Array,\n  },\n  computed:{\n    countries(){\n      return this.aggregateDataForColumn(this.data, 'contact.country')\n    },\n    genders(){\n      return this.aggregateDataForColumn(this.data, 'gender')\n    },\n    pets(){\n      return this.aggregateDataForColumn(this.data, 'preferences.favorite_pet')\n    },\n    fruits(){\n      return this.aggregateDataForColumn(this.data, 'preferences.favorite_fruit')\n    },\n    colors(){\n      return this.aggregateDataForColumn(this.data, 'preferences.favorite_color')\n    },\n  },\n  methods:{\n    aggregateDataForColumn(data, column){\n      let result = data.reduce((acc, obj)=>{\n        let keyValue = this.findValueAtPath(obj, column);\n        if(!acc[keyValue]){\n          acc[keyValue] = 1;\n        }else{\n          acc[keyValue]++;\n        }\n        return acc;\n      }, {})\n      return { labels:Object.keys(result), data:Object.values(result) }\n    },\n    findValueAtPath(obj, path, defaultValue = '') {\n      const value = path.split('.')\n          .reduce(function(acc, part) {\n            return acc && acc[part];\n          }, obj);\n      return value !== null && value !== undefined ? value : defaultValue;\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>"],"sourceRoot":""}]}